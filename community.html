<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Believe Trust - Community & Network</title>
    <!-- Core Styles -->
    <link rel="stylesheet" href="brand.css">
    <link rel="stylesheet" href="community.css">
    <script src="page_loader.js"></script>

    <!-- SEO -->
    <meta name="description" content="Join the Believe Trust Network. Discord, Telegram, and the Guardian Program.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,600;1,600&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Lenis & GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>

    <!-- Three.js (Visual Deep Dive) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Three.js (Visual Deep Dive) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>

<body>
    <div class="noise-overlay"></div>
    <div id="webgl-container"></div> <!-- 3D Background -->

    <!-- Header -->
    <header class="main-header">
        <a href="index.html" class="logo">
            <div class="logo-icon">B</div>
            <span class="logo-title">BELIEVE</span>
        </a>
        <nav class="nav-links">
            <a href="manifesto.html">Manifesto</a>
            <a href="framework.html">Framework</a>
            <a href="ico.html">ICO</a>
            <a href="community.html" class="active">Community</a>
            <a href="about.html">About</a>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="community-hero">
            <div class="network-bg"></div> <!-- Animated Web JS -->
            <div class="content">
                <span class="tag">THE NETWORK</span>
                <h1 class="title-xl">Power in<br>Numbers.</h1>
                <p class="text-md">We are not just a protocol. We are a movement. Join thousands of believers
                    coordinating the future of trust.</p>
            </div>
        </section>

        <!-- Social Grid -->
        <section class="social-section">
            <div class="container">
                <div class="social-grid">
                    <!-- Telegram -->
                    <a href="#" class="social-card telegram" aria-label="Join Telegram - 24,501 members">
                        <div class="card-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" aria-hidden="true">
                                <path
                                    d="M21.198 2.433a2.242 2.242 0 0 0-1.022.215l-8.609 3.33c-2.068.8-4.133 1.598-5.724 2.21a405.15 405.15 0 0 1-2.863 1.092c-.67.256-1.42.548-1.745 1.137-.324.588-.04 1.254.43 1.64.444.364 1.15.54 1.84.72l2.67 1.053c.47.185.938.37 1.408.556 1.43 1.09 3.193 2.5 4.908 4.22.428.43.956.88 1.493.593.537-.285.49-.974.49-1.57v-1.95c0-.606 0-1.28.618-1.714.288-.203.655-.138.986.07 1.575.986 3.15 1.972 4.093 2.56.942.59 1.77 1.108 2.576.623.805-.483 1.05-1.558 1.258-2.473l1.85-8.15c.168-.74.336-1.48.336-2.22 0-.276-.023-.553-.133-.787-.11-.235-.37-.417-.655-.453z" />
                            </svg>
                        </div>
                        <h2 class="platform-name">Telegram</h2>
                        <div class="stats">
                            <span class="count" data-target="24501" data-suffix="">0</span>
                            <span class="label">Members</span>
                        </div>
                        <div class="join-arrow">&rarr;</div>
                    </a>

                    <!-- Twitter / X -->
                    <a href="#" class="social-card twitter" aria-label="Follow on X - 89.2K followers">
                        <div class="card-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" aria-hidden="true">
                                <path d="M4 4l11.733 16h4.267l-11.733 -16z" />
                                <path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
                            </svg>
                        </div>
                        <h2 class="platform-name">X (Twitter)</h2>
                        <div class="stats">
                            <span class="count" data-target="89200" data-suffix="K" data-divide="1000">0</span>
                            <span class="label">Followers</span>
                        </div>
                        <div class="join-arrow">&rarr;</div>
                    </a>

                    <!-- Discord -->
                    <a href="#" class="social-card discord" aria-label="Join Discord - 12,400 online">
                        <div class="card-icon">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" aria-hidden="true">
                                <circle cx="9" cy="12" r="1" />
                                <circle cx="15" cy="12" r="1" />
                                <path d="M7.5 7.5c3.5-1 5.5-1 9 0" />
                                <path d="M7 16.5c3.5 1 6.5 1 10 0" />
                                <path
                                    d="M15.5 17c0 1 1.5 3 2 3 1.5 0 2.833-1.667 3.5-3 .667-1.667 .5-5.833-1.5-11.5-1.457-1.015-3.123-1.62-5-2.015-1.877 .395-3.543 1.002-5 2.015-2 5.667-2.167 9.833-1.5 11.5 .667 1.333 2 3 3.5 3 .5 0 2-2 2-3" />
                            </svg>
                        </div>
                        <h2 class="platform-name">Discord</h2>
                        <div class="stats">
                            <span class="count" data-target="12400" data-suffix="">0</span>
                            <span class="label">Online</span>
                        </div>
                        <div class="join-arrow">&rarr;</div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Ambassador Program -->
        <section class="ambassador-section">
            <div class="container split-layout">
                <div class="text-col">
                    <span class="tag">GUARDIANS</span>
                    <h2 class="title-md">Become a<br>Guardian.</h2>
                    <p class="text-md">We are looking for leaders to steward the network. Guardians receive exclusive
                        access, early governance rights, and direct lines to the Council.</p>
                    <a href="#" class="btn btn-primary">Apply Now</a>
                </div>
                <div class="visual-col">
                    <div class="shield-graphic">
                        <div class="shield-core"></div>
                        <div class="shield-pulse"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Events Timeline -->
        <section class="events-section">
            <div class="container">
                <h2 class="title-md center-text">Upcoming Rites</h2>
                <div class="timeline">
                    <!-- Event 1 -->
                    <div class="event-item">
                        <div class="event-date">
                            <span class="day">28</span>
                            <span class="month">JAN</span>
                        </div>
                        <div class="event-info">
                            <h3>Public Town Hall: "The Reveal"</h3>
                            <p>Live AMA with the Architects. Discord Stage.</p>
                            <span class="event-status live">UPCOMING</span>
                        </div>
                    </div>

                    <!-- Event 2 -->
                    <div class="event-item">
                        <div class="event-date">
                            <span class="day">14</span>
                            <span class="month">FEB</span>
                        </div>
                        <div class="event-info">
                            <h3>Governance Rite 01</h3>
                            <p>First official community vote on treasury allocation.</p>
                            <span class="event-status">SCHEDULED</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bt-main-footer">
        <div class="bt-container">
            <div class="bt-footer-links">
                <a href="manifesto.html">Manifesto</a>
                <a href="framework.html">Framework</a>
                <a href="ico.html">ICO</a>
                <a href="community.html">Community</a>
                <a href="about.html">About</a>
                <a href="press.html">Press</a>
            </div>
            <p>&copy; 2026 Believe Trust. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="audio_manager.js"></script>

    <!-- WebGL Bootstrap -->
    <script src="webgl_manager.js"></script>
    <script src="globe_visualizer.js"></script>
    <script>
        // --- LENIS SMOOTH SCROLL ---
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            smooth: true
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        document.addEventListener('DOMContentLoaded', () => {
            const webgl = new WebGLManager('webgl-container');
            const globe = new GlobeVisualizer();
            webgl.addVisualizer(globe);

            // Trigger pulse on click
            window.addEventListener('mousedown', () => {
                globe.triggerPulse(0xff3b30); // Red pulse for manual interaction
            });

            // Optional: Mouse interactions to rotate globe
            document.addEventListener('mousemove', (e) => {
                const x = (e.clientX / window.innerWidth) * 2 - 1;
                const y = -(e.clientY / window.innerHeight) * 2 + 1;
                globe.activeRotation = 0.001 + (x * 0.005); // Spin faster on mouse move
            });
        });
    </script>

    <script>
        // WebGL is now handling the background visuals.

        // --- SCROLL ANIMATIONS ---
        gsap.registerPlugin(ScrollTrigger);

        // Pin "Become a Guardian" Section
        ScrollTrigger.create({
            trigger: ".ambassador-section",
            start: "center center",
            end: "+=1500", // Pin for 1500px scroll distance
            pin: true,
            scrub: true
        });

        // Animate the Shield while pinned
        gsap.to(".shield-graphic", {
            scale: 1.2,
            rotation: 360,
            opacity: 1,
            scrollTrigger: {
                trigger: ".ambassador-section",
                start: "center center",
                end: "+=1500",
                scrub: 1
            }
        });

        // REMOVED: Stagger animation for social cards to ensure immediate visibility.

        // --- ANIMATED COUNTERS ---
        function animateCounter(el) {
            const target = parseInt(el.dataset.target, 10);
            const suffix = el.dataset.suffix || '';
            const divide = parseInt(el.dataset.divide, 10) || 1;
            const duration = 2000;
            const startTime = performance.now();

            function update(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);

                // Easing function (ease-out cubic)
                const eased = 1 - Math.pow(1 - progress, 3);
                const current = Math.floor(eased * target);

                if (divide > 1) {
                    el.textContent = (current / divide).toFixed(1) + suffix;
                } else {
                    el.textContent = current.toLocaleString() + suffix;
                }

                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }

            requestAnimationFrame(update);
        }

        // Trigger on scroll into view
        const counters = document.querySelectorAll('.count[data-target]');
        const counterObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.dataset.animated) {
                    entry.target.dataset.animated = 'true';
                    animateCounter(entry.target);
                }
            });
        }, { threshold: 0.5 });

        counters.forEach(counter => counterObserver.observe(counter));
    </script>
</body>

</html>